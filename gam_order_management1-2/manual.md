# 감 주문 관리 프로그램 사용자 매뉴얼

## 1. 개요

본 프로그램은 감(단감, 대봉) 주문을 효율적으로 관리하기 위한 웹 기반 대시보드 애플리케이션입니다. 사용자는 이 프로그램을 통해 주문을 등록, 수정, 삭제하고, 배송 상태를 추적하며, 전체적인 주문 현황을 한눈에 파악할 수 있습니다.

---

## 2. 주요 기능

### 2.1. 대시보드

메인 화면 상단에 위치한 대시보드는 주문 현황에 대한 핵심 지표들을 실시간으로 요약하여 보여줍니다.

- **총 주문 현황**: 전체 주문 건수와 품목(단감, 대봉)별 총 주문 박스 수량을 표시합니다.
- **주문 상태별 현황**: `발송완료`, `미발송`, `발송예약` 상태에 있는 주문 건수를 각각 보여줍니다.
- **상태별 박스 현황**: 각 배송 상태별로 단감과 대봉이 몇 박스씩 있는지 상세하게 표로 보여줍니다.
- **지연 주문 현황**: 설정된 지연 기준일(`기본 7일`)을 초과한 미발송 주문 건수와 품목별 수량을 표시합니다.
- **대시보드 필터링**: 대시보드의 각 요약 카드를 클릭하면, 아래 주문 목록이 해당 조건에 맞는 주문들만 필터링하여 보여줍니다. (예: '미발송 주문' 카드 클릭 시, 미발송 상태인 주문만 목록에 표시)

### 2.2. 주문 목록

모든 주문의 상세 내역이 표 형태로 표시되는 영역입니다.

- **상세/간단 보기**: '상세 보기' 버튼을 통해 연락처, 주소 등 모든 정보를 보거나, '간단히 보기'를 통해 핵심 정보만 볼 수 있습니다.
- **동적 정렬**: 표의 헤더(주문일자, 보내는 분, 단감 등)를 클릭하여 원하는 기준으로 주문을 오름차순 또는 내림차순으로 정렬할 수 있습니다.
- **지연 주문 강조**: 지연 기준일을 초과한 미발송 주문은 빨간색으로 강조되어 시각적으로 구분하기 쉽습니다.
- **입금여부 변경**: '입금여부' 열의 `O`, `X` 아이콘을 클릭하여 간편하게 입금 상태를 변경할 수 있습니다.
- **배송 상태 시각화**: 각 주문의 전체 수량 대비 미발송, 발송예정, 발송완료 수량이 어느 정도인지 막대 그래프 형태로 시각적으로 보여줍니다.

### 2.3. 주문 관리 (추가/수정/삭제)

- **새 주문 추가**:
  - '새 주문 추가' 버튼을 클릭하여 주문서 양식을 엽니다.
  - **중복 확인 기능**: '보내는 분'과 '받는 분'의 이름이 모두 동일한 기존 주문이 있을 경우, 저장 시 알림창으로 기존 주문 내역을 보여주며 정말로 추가할 것인지 확인합니다.
- **주문 수정**: 각 주문 행의 '수정' 버튼을 클릭하여 기존 주문 내용을 변경할 수 있습니다.
- **주문 삭제**: '삭제' 버튼을 클릭하여 해당 주문을 목록에서 영구적으로 제거합니다. (확인창 표시)

### 2.4. 배송 관리

각 주문별로 상세한 배송 현황을 관리할 수 있는 기능입니다.

- 주문 목록에서 '배송관리' 버튼을 클릭하여 배송 관리창을 엽니다.
- **품목별 관리**: 단감과 대봉 각각의 배송 상태를 별도로 관리할 수 있습니다.
- **상태별 수량 추가**: 특정 날짜에 '발송예정' 또는 '발송완료' 상태로 보낼 수량을 입력하고 추가할 수 있습니다.
- **자동 상태 변경**: '발송예정'으로 등록된 건은 해당 날짜가 지나면 자동으로 '발송완료' 상태로 변경됩니다.
- **수정 및 삭제**: 등록된 배송 건별로 수량, 날짜 등을 수정하거나 삭제할 수 있습니다.

### 2.5. 데이터 관리

- **파일로 저장**: '파일로 저장' 버튼을 클릭하면 현재까지의 모든 주문 데이터를 `gam_data.json` 파일로 다운로드하여 백업할 수 있습니다.
- **파일에서 불러오기**: '파일에서 불러오기' 버튼으로 백업해 둔 `gam_data.json` 파일을 선택하여 데이터를 복원할 수 있습니다.
- **발송예정 XLSX 내보내기**: '발송예정 XLSX 내보내기' 버튼을 클릭하면, '발송예정' 상태인 모든 주문 건을 택배사에 전달하기 용이한 엑셀(.xlsx) 파일 형식으로 정리하여 다운로드합니다.

### 2.6. 설정

- **가격 설정**: '가격 설정' 버튼을 통해 단감과 대봉의 상자당 기본 가격을 설정할 수 있습니다. 이 가격은 주문 목록의 '예상 금액'에 자동으로 반영됩니다.
- **지연 기준일 설정**: 주문 목록 우측 상단에서 지연으로 간주할 기준일(`N일 이상 지연`)을 직접 설정할 수 있습니다.

### 2.7. 기타 기능

- **검색**: 우측 상단의 검색창에 키워드(이름, 연락처, 주소 등)를 입력하면 실시간으로 주문 목록에서 해당 키워드가 포함된 모든 주문을 찾아 보여줍니다.
- **데이터 집계**: '데이터 집계' 버튼을 통해 '입금여부' 또는 '발송여부'를 기준으로 전체 데이터의 금액 및 수량 합계를 요약된 표로 확인할 수 있습니다.
- **데이터 유지**: 모든 데이터는 브라우저의 로컬 저장소(Local Storage)에 자동으로 저장되므로, 창을 닫거나 새로고침해도 데이터가 유지됩니다.

---

## 3. 데이터 파일 형식 (`gam_data.json`)

'파일로 저장' 시 생성되는 `gam_data.json` 파일은 다음과 같은 구조를 가집니다. 이 파일을 직접 수정할 수도 있지만, 구조가 깨질 경우 데이터를 불러오지 못할 수 있으니 주의가 필요합니다.

```json
{
  "orders": [
    {
      "id": 1670123456789,
      "senderName": "홍길동",
      "senderPhone": "010-1234-5678",
      "senderAddress": "전남 순천시 낙안면 심내길 36",
      "receiverName": "김철수",
      "receiverPhone": "010-9876-5432",
      "receiverAddress": "서울시 강남구 테헤란로",
      "sweetPersimmon": "5",
      "daebongPersimmon": "0",
      "orderDate": "2024-11-10",
      "notes": "부재 시 경비실에 맡겨주세요.",
      "referrer": "이영희",
      "paymentStatus": true,
      "shippingDetails": {
        "sweetPersimmon": [
          {
            "status": "발송완료",
            "date": "2024-11-11",
            "count": 5
          }
        ],
        "daebongPersimmon": []
      }
    }
  ],
  "prices": {
    "sweet": 30000,
    "daebong": 25000
  },
  "redThreshold": 7,
  "viewMode": "compact"
}
```
